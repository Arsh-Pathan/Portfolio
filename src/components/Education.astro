---
// Education Timeline
const education = [
    {
        institution: "Dhole Patil College of Engineering, Pune",
        degree: "B.E. in Computer Engineering",
        period: "2023 - Present",
        status: "Current",
        icon: "üéì",
    },
    {
        institution: "Padmashri Vikhe Patil College, Pravaranagar",
        degree: "11th - 12th Grade",
        period: "2021 - 2023",
        status: "Completed",
        icon: "üìö",
    },
    {
        institution: "Shree Saibaba English Medium School, Shirdi",
        degree: "5th - 10th Grade",
        period: "2016 - 2021",
        status: "Completed",
        icon: "üè´",
    },
    {
        institution: "Preetisudhaji English Medium School, Rahata",
        degree: "KG - 4th Grade",
        period: "2011 - 2016",
        status: "Completed",
        icon: "üéí",
    },
];
---

<section id="education" class="section education-section relative">
    <div class="container relative z-10">
        <h2 class="section-title text-white mb-12">Education History</h2>

        <div class="timeline-compact max-w-3xl mx-auto">
            {
                education.map((edu, index) => (
                    <div class="timeline-row flex gap-6 mb-8 group">
                        <!-- Time/Period (Left) -->
                        <div class="w-32 text-right pt-1 flex-shrink-0 hidden md:block">
                            <span class="text-accent-gold font-bold block">{edu.period}</span>
                            <span class={`text-xs px-2 py-0.5 rounded-full border ${edu.status === "Current" ? "border-accent-gold text-accent-gold" : "border-gray-500 text-gray-400"} inline-block mt-1`}>
                                {edu.status}
                            </span>
                        </div>

                        <!-- Line & Dot (Center) -->
                        <div class="relative flex flex-col items-center">
                            <div class="w-3 h-3 rounded-full bg-accent-gold z-10 group-hover:scale-150 transition-transform duration-300 shadow-[0_0_10px_rgba(212,175,55,0.5)]"></div>
                            <div class="w-0.5 bg-gray-700 h-full absolute top-3 -bottom-8 group-last:hidden"></div>
                        </div>

                        <!-- Content (Right) -->
                        <div class="flex-1 pt-0.5 pb-8">
                            <!-- Mobile Date -->
                            <div class="md:hidden mb-1 flex items-center gap-2">
                                <span class="text-accent-gold font-bold text-sm">{edu.period}</span>
                                <span class={`text-[10px] px-1.5 py-0.5 rounded-full border ${edu.status === "Current" ? "border-accent-gold text-accent-gold" : "border-gray-500 text-gray-400"}`}>
                                    {edu.status}
                                </span>
                            </div>
                            
                            <h3 class="text-xl font-bold text-white group-hover:text-accent-cyan transition-colors">
                                {edu.institution}
                            </h3>
                            <p class="text-lg text-gray-300 mt-1">
                                {edu.degree}
                            </p>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>

    <!-- Curved Divider Bottom -->
    <div class="custom-shape-divider-bottom">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>
        </svg>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("DOMContentLoaded", () => {
        const rows = document.querySelectorAll(".timeline-row");

        rows.forEach((row, index) => {
            gsap.from(row, {
                scrollTrigger: {
                    trigger: row,
                    start: "top 85%",
                    toggleActions: "play none none reverse",
                },
                y: 20,
                opacity: 0,
                duration: 0.5,
                delay: index * 0.1,
                ease: "power2.out",
            });
        });
    });
</script>

<style>
    .education-section {
        /* Background handled by pseudo-element for z-index layering */
        color: white;
        padding: 4rem 0; /* Reduced padding */
    }

    .education-section::before {
        content: '';
        position: absolute;
        inset: 0;
        background-color: #1e293b; /* Dark Slate */
        z-index: -2;
    }

    .education-section .section-title {
        color: white !important;
    }
    
    .education-section .section-title::after {
        background: #d4af37;
    }

    /* Custom Shape Divider */
    .custom-shape-divider-bottom {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        overflow: hidden;
        line-height: 0;
        z-index: -2;
    }

    .custom-shape-divider-bottom svg {
        position: relative;
        display: block;
        width: calc(100% + 1.3px);
        height: 60px;
    }

    .custom-shape-divider-bottom .shape-fill {
        fill: #FDFBF7; /* Match global body background */
        opacity: 1;
    }
</style>
