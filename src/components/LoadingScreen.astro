---

---

<div id="loading-screen" class="loading-screen">
  <!-- Ambient blobs behind loader -->
  <div class="loader-blob blob-1"></div>
  <div class="loader-blob blob-2"></div>

  <!-- Logo Mark -->
  <div class="loader-logo" id="loader-logo">
    <svg viewBox="0 0 120 120" class="loader-svg">
      <defs>
        <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#3b82f6"></stop>
          <stop offset="50%" stop-color="#06b6d4"></stop>
          <stop offset="100%" stop-color="#818cf8"></stop>
        </linearGradient>
      </defs>
      <!-- Outer ring -->
      <circle
        cx="60"
        cy="60"
        r="50"
        fill="none"
        stroke="url(#logo-gradient)"
        stroke-width="2"
        stroke-dasharray="314"
        stroke-dashoffset="314"
        class="loader-circle"></circle>
      <!-- Inner letters "AP" -->
      <text
        x="60"
        y="68"
        text-anchor="middle"
        fill="url(#logo-gradient)"
        font-family="'Outfit', sans-serif"
        font-weight="900"
        font-size="36"
        class="loader-letters">AP</text
      >
    </svg>
  </div>

  <!-- Loading text -->
  <div class="loader-name" id="loader-name">
    <span class="loader-char" style="--i: 0">A</span>
    <span class="loader-char" style="--i: 1">R</span>
    <span class="loader-char" style="--i: 2">S</span>
    <span class="loader-char" style="--i: 3">H</span>
    <span class="loader-char space" style="--i: 4">&nbsp;</span>
    <span class="loader-char" style="--i: 5">P</span>
    <span class="loader-char" style="--i: 6">A</span>
    <span class="loader-char" style="--i: 7">T</span>
    <span class="loader-char" style="--i: 8">H</span>
    <span class="loader-char" style="--i: 9">A</span>
    <span class="loader-char" style="--i: 10">N</span>
  </div>

  <!-- Progress bar -->
  <div class="loader-progress">
    <div class="loader-progress-bar" id="loader-progress-bar"></div>
  </div>

  <p class="loader-subtitle" id="loader-subtitle">Loading experience...</p>
</div>

<script>
  import { gsap } from "gsap";

  document.addEventListener("DOMContentLoaded", () => {
    const screen = document.getElementById("loading-screen");
    const progressBar = document.getElementById("loader-progress-bar");
    const chars = document.querySelectorAll(".loader-char");
    const circle = document.querySelector(".loader-circle");
    const letters = document.querySelector(".loader-letters");
    const subtitle = document.getElementById("loader-subtitle");

    if (!screen || !progressBar) return;

    document.body.classList.add("loading");

    const tl = gsap.timeline();

    // Animate the ring drawing
    tl.to(circle, {
      strokeDashoffset: 0,
      duration: 1.5,
      ease: "power2.inOut",
    });

    // Animate the "AP" letters
    tl.from(
      letters,
      {
        opacity: 0,
        scale: 0.5,
        duration: 0.6,
        ease: "back.out(1.7)",
      },
      "-=0.8",
    );

    // Stagger in the name characters
    tl.from(
      chars,
      {
        y: 40,
        opacity: 0,
        filter: "blur(10px)",
        duration: 0.5,
        stagger: 0.04,
        ease: "power3.out",
      },
      "-=0.3",
    );

    // Animate progress bar
    tl.to(
      progressBar,
      {
        width: "100%",
        duration: 1.2,
        ease: "power2.inOut",
      },
      "-=0.4",
    );

    // Fade subtitle
    tl.from(
      subtitle,
      {
        opacity: 0,
        duration: 0.4,
      },
      "-=1",
    );

    // After loading completes, animate out
    tl.to(screen, {
      opacity: 0,
      duration: 0.6,
      delay: 0.3,
      ease: "power2.inOut",
      onComplete: () => {
        screen.style.display = "none";
        screen.style.visibility = "hidden";
        document.body.classList.remove("loading");
      },
    });
  });
</script>

<style>
  .loading-screen {
    position: fixed;
    inset: 0;
    z-index: 10000;
    background: #0a0f1c;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0;
  }

  /* Background blobs */
  .loader-blob {
    position: absolute;
    border-radius: 50%;
    filter: blur(100px);
    pointer-events: none;
  }

  .blob-1 {
    width: 400px;
    height: 400px;
    background: radial-gradient(
      circle,
      rgba(59, 130, 246, 0.15),
      transparent 70%
    );
    top: 20%;
    left: 30%;
    animation: blob-float-1 6s ease-in-out infinite;
  }

  .blob-2 {
    width: 300px;
    height: 300px;
    background: radial-gradient(
      circle,
      rgba(6, 182, 212, 0.1),
      transparent 70%
    );
    bottom: 20%;
    right: 30%;
    animation: blob-float-2 8s ease-in-out infinite;
  }

  @keyframes blob-float-1 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(30px, -30px);
    }
  }

  @keyframes blob-float-2 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(-20px, 20px);
    }
  }

  /* Logo SVG */
  .loader-logo {
    position: relative;
    z-index: 1;
  }

  .loader-svg {
    width: 100px;
    height: 100px;
  }

  .loader-circle {
    transform-origin: center;
  }

  /* Name characters */
  .loader-name {
    display: flex;
    gap: 2px;
    margin-top: 2rem;
    z-index: 1;
  }

  .loader-char {
    font-family: "Outfit", sans-serif;
    font-size: 1.8rem;
    font-weight: 800;
    letter-spacing: 0.15em;
    background: linear-gradient(135deg, #60a5fa, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
  }

  .loader-char.space {
    width: 0.5em;
  }

  /* Progress bar */
  .loader-progress {
    width: 180px;
    height: 2px;
    background: rgba(59, 130, 246, 0.1);
    margin-top: 2rem;
    border-radius: 1px;
    overflow: hidden;
    z-index: 1;
  }

  .loader-progress-bar {
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, #3b82f6, #06b6d4);
    border-radius: 1px;
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.6);
  }

  /* Subtitle */
  .loader-subtitle {
    margin-top: 1rem;
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: #5a6d8a;
    z-index: 1;
  }

  @media (max-width: 480px) {
    .loader-char {
      font-size: 1.2rem;
    }
    .loader-svg {
      width: 70px;
      height: 70px;
    }
  }
</style>
